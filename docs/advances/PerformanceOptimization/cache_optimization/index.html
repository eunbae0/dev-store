<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-advances/PerformanceOptimization/cache_optimization" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">캐시 최적화 | Dev Store</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/dev-store/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/dev-store/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/dev-store/docs/advances/PerformanceOptimization/cache_optimization"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="캐시 최적화 | Dev Store"><meta data-rh="true" name="description" content="웹에서는 서비스에서 사용하는 image나 js 파일을 매번 네트워크를 통해 불러오지 않고, 최초에만 다운로드해서 브라우저 캐시에 저장한다."><meta data-rh="true" property="og:description" content="웹에서는 서비스에서 사용하는 image나 js 파일을 매번 네트워크를 통해 불러오지 않고, 최초에만 다운로드해서 브라우저 캐시에 저장한다."><link data-rh="true" rel="icon" href="/dev-store/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/dev-store/docs/advances/PerformanceOptimization/cache_optimization"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/dev-store/docs/advances/PerformanceOptimization/cache_optimization" hreflang="ko"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/dev-store/docs/advances/PerformanceOptimization/cache_optimization" hreflang="x-default"><link rel="stylesheet" href="/dev-store/assets/css/styles.2b79534b.css">
<script src="/dev-store/assets/js/runtime~main.f86fe80b.js" defer="defer"></script>
<script src="/dev-store/assets/js/main.726cbd85.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_pa9R" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dev-store/"><div class="navbar__logo"><img src="/dev-store/img/logo.svg" alt="My Site Logo" class="themedComponent_c8AR themedComponent--light_Qnfw"><img src="/dev-store/img/logo.svg" alt="My Site Logo" class="themedComponent_c8AR themedComponent--dark_HpBT"></div><b class="navbar__title text--truncate">Dev Store</b></a><a class="navbar__item navbar__link" href="/dev-store/docs/basics/intro">FE Basics</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/dev-store/docs/advances/intro">FE Advances</a><a class="navbar__item navbar__link" href="/dev-store/docs/react_native/intro">RN</a><a class="navbar__item navbar__link" href="/dev-store/docs/ios/intro">iOS</a><a class="navbar__item navbar__link" href="/dev-store/docs/android/intro">Android</a><a class="navbar__item navbar__link" href="/dev-store/docs/cs/intro">CS</a><a class="navbar__item navbar__link" href="/dev-store/docs/books/intro">Books</a><a class="navbar__item navbar__link" href="/dev-store/docs/category/git">ETC</a></div><div class="navbar__items navbar__items--right"><div class="toggle_oExt colorModeToggle_L_az"><button class="clean-btn toggleButton_Guh_ toggleButtonDisabled_vipt" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 어두운 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 어두운 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_jUga"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_xago"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_DQpm"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_DAWZ"><div class="docsWrapper_znQW"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_tora" type="button"></button><div class="docRoot_kIkk"><aside class="theme-doc-sidebar-container docSidebarContainer_xAwd"><div class="sidebarViewport_LADL"><div class="sidebar_yJt3"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_CMxW"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/dev-store/docs/advances/intro">FE Advances Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/dev-store/docs/category/performance-optimization">Performance Optimization</a><button aria-label="Collapse sidebar category &#x27;Performance Optimization&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/dev-store/docs/advances/PerformanceOptimization/cache_optimization">캐시 최적화</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dev-store/docs/advances/PerformanceOptimization/font_optimization">폰트 최적화</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_Uk3X"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_t0na"><div class="docItemContainer_qUef"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_oV2u" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/dev-store/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YDaz"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/dev-store/docs/category/performance-optimization"><span itemprop="name">Performance Optimization</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">캐시 최적화</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_GVer theme-doc-toc-mobile tocMobile_KW2S"><button type="button" class="clean-btn tocCollapsibleButton_wsaA">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><h1>캐시 최적화</h1>
<p>웹에서는 서비스에서 사용하는 image나 js 파일을 매번 네트워크를 통해 불러오지 않고, 최초에만 다운로드해서 브라우저 캐시에 저장한다.<br>
<!-- -->그 이후 요청시에는 브라우저에 저장해 둔 파일을 사용한다.</p>
<h2 class="anchor anchorWithStickyNavbar_OaXV" id="웹에서-사용하는-캐시의-종류">웹에서 사용하는 캐시의 종류<a href="#웹에서-사용하는-캐시의-종류" class="hash-link" aria-label="웹에서 사용하는 캐시의 종류에 대한 직접 링크" title="웹에서 사용하는 캐시의 종류에 대한 직접 링크">​</a></h2>
<ol>
<li>메모리 캐시: 메모리(RAM)에 저장하는 방식</li>
<li>디스크 캐시: 파일 형태로 디스크에 저장하는 방식</li>
</ol>
<p>어떤 캐시를 사용할지는 직접 제어 불가능하며, 브라우저가 특정 알고리즘에 의해 알아서 처리한다.</p>
<h3 class="anchor anchorWithStickyNavbar_OaXV" id="실제-동작-확인">실제 동작 확인<a href="#실제-동작-확인" class="hash-link" aria-label="실제 동작 확인에 대한 직접 링크" title="실제 동작 확인에 대한 직접 링크">​</a></h3>
<ul>
<li>Chrome의 Network 탭을 확인한다.</li>
<li>disabe cache 설정을 끄고 페이지를 새로고침 시, <strong>Size</strong> 항목에 memory cache 또는 disk cache라고 표시되어 있는 것을 확인할 수 있다.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="브라우저를 최초 렌더링 하고, 새로고침했을 때 이렇게 되어있다.CSS는 disk cache에 저장.. 신기.." src="/dev-store/assets/images/performance_optimization_1-a07d444b72926c9c07dbaa1e86e2f18b.png" class="img_oK_v"></p>
<p>브라우저를 최초 렌더링 하고, 새로고침했을 때 이렇게 되어있다.CSS는 disk cache에 저장.. 신기..</p>
<p><img decoding="async" loading="lazy" alt="스크린샷 2023-06-30 오후 4.49.08.png" src="/dev-store/assets/images/performance_optimization_2-85e3d51a65bac92be6bb01fe9ac4f0d9.png" class="img_oK_v"></p>
<p>응답 헤더에 Cache-Control이라는 헤더가 있어야 캐시 저장 가능!</p>
<p><img decoding="async" loading="lazy" alt="스크린샷 2023-06-30 오후 4.50.23.png" src="/dev-store/assets/images/performance_optimization_3-9ae5c365134db3be8a388dbb29ceeebf.png" class="img_oK_v">
<img decoding="async" loading="lazy" alt="스크린샷 2023-06-30 오후 4.50.23.png" src="/dev-store/assets/images/performance_optimization_4-cbae009a0285969c09cc3af22cb5946d.png" class="img_oK_v"></p>
<p>max-age=0이라면 다시 불러오는걸 확인할 수 있다(netlify-light.svg) = no-cache와 동일한 설정!</p>
<h2 class="anchor anchorWithStickyNavbar_OaXV" id="cache-control-옵션">Cache control 옵션<a href="#cache-control-옵션" class="hash-link" aria-label="Cache control 옵션에 대한 직접 링크" title="Cache control 옵션에 대한 직접 링크">​</a></h2>
<ul>
<li>no-cache: 캐시를 사용하기 전 서버에 캐시된 리소스를 사용해도 되는지 한번 검사 후 사용</li>
<li>no-store: 캐시 사용 안 함</li>
<li>public: 모든 환경에서 캐시 사용 가능</li>
<li>private: 브라우저 환경에서만 캐시 사용, 외부 캐시 서버에서는 사용 불가</li>
<li>max-age: 캐시의 유효시간 (60: 60초)</li>
</ul>
<p>public. max-age=0 : 0초는 사실상 캐시가 바로 만료되는 상태, 매번 서버에 캐시를 사용해도 되는지 확인한다; no-cache와 동일한 설정!</p>
<p>유효시간이 지난 후에도 파일이 변경되지 않았다면, 리로드시 서버에서는 변경되지 않았다는 304 status code를 응답으로 보냄!</p>
<p>304 Not Modified</p>
<blockquote>
<p>캐시된 리소스와 서버의 최신 리소스가 같은지 다른지 어떻게 체크할까?
→ 캐시 유효 시간이 만료되면 브라우저는 캐시된 리소스를 계속 사용해도 될지 서버에 확인한다.
이떄 서버에서는 캐시된 리소스의 응답 헤더에 있는 Etag값과 서버에 있는 최신 리소스의 Etag값을 비교하여 판단!
서버 리소스가 변했다면 Etag값이 달라지므로, 서버는 새로운 Etag값과 함께 최신 리소스를 다시 브라우저로 보내준다.</p>
</blockquote>
<p>일반적으로 HTML 파일에는 no-cach설정. 항상 최신버전의 웹 서비스를 제공하기 위함.</p>
<p>but CSS, JS는 빌드되면 파일명에 해시를 함께 가지고있다(main.j23r4qa.chunk.js)</p>
<p>→ 코드가 변경되면 해시도 변경되어 완전히 다른 파일이 된다. 따라서 캐시를 아무리 오래 적용해도 HTML만 최신상태라면 JS, CSS + Image는 당연히 최신 리소스를 로드할것.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/eunbae0/dev-store/tree/main/docs/advances/PerformanceOptimization/cache_optimization.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_HRRL" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>페이지 편집</a></div><div class="col lastUpdated_rpaX"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--prev" href="/dev-store/docs/category/performance-optimization"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">Performance Optimization</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/dev-store/docs/advances/PerformanceOptimization/font_optimization"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">폰트 최적화</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_qPL3 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#웹에서-사용하는-캐시의-종류" class="table-of-contents__link toc-highlight">웹에서 사용하는 캐시의 종류</a><ul><li><a href="#실제-동작-확인" class="table-of-contents__link toc-highlight">실제 동작 확인</a></li></ul></li><li><a href="#cache-control-옵션" class="table-of-contents__link toc-highlight">Cache control 옵션</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/dev-store/docs/basics/intro">Basics</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://devpluto.tistory.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_mkaX"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/eunbae0" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_mkaX"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>